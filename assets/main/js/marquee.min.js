let scrollDirection=1,lastScrollTop=0,marqueeData=new Map,animationFrameId=null;function initMarquee(){document.querySelectorAll(".marquee-container").forEach(o=>{let a=o.querySelector(".marquee-content");var e=[...o.querySelectorAll(".marquee-item")];let i=parseFloat(o.getAttribute("data-speed"))||30,n=(a.innerHTML="",document.createElement("div"));n.style.display="flex",n.style.gap=getComputedStyle(a).gap||"0px",e.forEach(e=>n.appendChild(e.cloneNode(!0))),a.appendChild(n),requestAnimationFrame(()=>{var e=n.getBoundingClientRect().width,t=Math.ceil(o.offsetWidth/e)+3;for(let e=0;e<t;e++)a.appendChild(n.cloneNode(!0));gsap.set(a,{x:0,display:"flex",willChange:"transform"}),marqueeData.set(o,{content:a,wrapperWidth:e,speed:i,position:0})})}),setTimeout(()=>{animationFrameId&&cancelAnimationFrame(animationFrameId);let t=performance.now(),o=e=>{let i=(e-t)/1e3;t=e,marqueeData.forEach(e=>{var t,o,a;e.wrapperWidth&&({content:t,wrapperWidth:o,speed:a}=e,e.position+=scrollDirection*a*i,o<=e.position?e.position=e.position-o:e.position<0&&(e.position=o+e.position),gsap.set(t,{x:-e.position}))}),animationFrameId=requestAnimationFrame(o)};animationFrameId=requestAnimationFrame(o)},100),window.addEventListener("scroll",()=>{var e=window.scrollY||document.documentElement.scrollTop;e>lastScrollTop?scrollDirection=1:e<lastScrollTop&&(scrollDirection=-1),lastScrollTop=e},{passive:!0})}initMarquee();