let scrollDirection=1,lastScrollTop=0,marqueeTimelines=new Map,animationFrameId=null;function initMarquee(){if(document.querySelector(".marquee-container")){document.querySelectorAll(".marquee-container").forEach(e=>{let r=e.querySelector(".marquee-content");var o=[...e.querySelectorAll(".marquee-item")],t=parseFloat(e.getAttribute("data-speed"))||30,a=(r.innerHTML="",o.forEach(e=>r.appendChild(e.cloneNode(!0))),[...r.children]);let i=0;a.forEach(e=>i+=e.offsetWidth);var o=e.offsetWidth,l=Math.ceil(o/i)+4;for(let e=0;e<l;e++)a.forEach(e=>{r.appendChild(e.cloneNode(!0))});let n=0;[...r.children].forEach(e=>n+=e.offsetWidth),gsap.set(r,{x:0,willChange:"transform",force3D:!0});var o=n/t,s=gsap.timeline({paused:!0});s.to(r,{x:-n,duration:o,ease:"none",modifiers:{x:e=>parseFloat(e)%n+"px"}}),marqueeTimelines.set(e,{timeline:s,fullWidth:n,speed:t,duration:o,progress:0,content:r})}),animationFrameId&&cancelAnimationFrame(animationFrameId);let e=()=>{marqueeTimelines.forEach(e=>{var{timeline:r,duration:o,speed:t,fullWidth:a}=e;e.progress+=scrollDirection*t/(a/16.67),e.progress<0&&(e.progress=o+e.progress),o<e.progress&&(e.progress=e.progress-o),r.progress(e.progress/o)}),animationFrameId=requestAnimationFrame(e)};animationFrameId=requestAnimationFrame(e),window.addEventListener("scroll",()=>{var e=window.scrollY||document.documentElement.scrollTop;e>lastScrollTop?scrollDirection=1:e<lastScrollTop&&(scrollDirection=-1),lastScrollTop=e})}}initMarquee();